// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// NOTE ABOUT SCHEMA SYNCING: https://www.prisma.io/docs/guides/migrate/developing-with-prisma-migrate
// While prototyping, everytime changes are made in this file, run `npx prisma db push` (this will reset the db but also update the schema)
// When we are finally at a stabel place, then start using `npx prisma migrate dev`
// first: npx prisma migrate dev --name initital-migration
// second: npx prisma migrate dev --name type-change (treat like a short commit message - what changed about this schema?)

// SEEDING: https://www.prisma.io/docs/guides/migrate/seed-database
// Prisma Migrate will prompt you to migrate reset when you run prisma migrate dev.
// If a seed script is available, Prisma Migrate runs that script after resetting the database. (`npx prisma db seed` to run the seed manually)

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "postgresql"
  url               = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl         = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model Task {
  id        Int       @id @unique @default(autoincrement())
  title     String
  completed Boolean   @default(false)
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  // keep for 7 days?
  deletedAt DateTime?
}
